<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Details Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

</head>

<body onload="getDetails()">
    <div class="container text-center align-middle" style="height: 100%;">
        <div class="row">
            <div class="col-sm-3 ">
                <p style="font-weight:bold;font-size:30px">View Products</p>
            </div>
            <div class="col-sm-9"><button class="btn btn-primary me-auto"><a href="index.html"
                        style="color: white;text-decoration:none;">Add a Product</a></button></div>
        </div>

        <table class="table">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Product Name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Price</th>
                    <th scope="col">Unit of Measurement</th>
                    <th scope="col">Edit</th>
                    <th scope="col">Delete</th>
                </tr>
            </thead>
            <tbody id="add">

            </tbody>
        </table>
    </div>
    <script>
        
        function getDetails() {
            var body = document.getElementById("add")
            var products = JSON.parse(localStorage.getItem("products"));
            console.log(products[0])
            for (i = 0; i < products.length; i++) {
                body.innerHTML +=
                    `<tr><th scope='row'>${i+1}</th><td>${products[i].name}</td><td>${products[i].unit}</td><td>${products[i].price}</td><td>${products[i].desc}</td><td><button class="btn btn-primary" onclick="edit(i)" style="border-radius:10px;">Edit</button></td><td><button class="btn btn-primary" onclick="deleteProduct(i)" style="border-radius:10px;">Delete</button></td></tr>`
            }
        }
        function edit(num){

        }
        function deleteProduct(num){
            console.log(num)
            var products = JSON.parse(localStorage.getItem("products"));
            products.splice(num,1)
            localStorage.setItem("products",products)
            location.reload()
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
    </script>
</body>

</html>